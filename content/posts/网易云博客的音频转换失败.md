---
title: "网易云博客的音频转换失败"
date: 2023-06-08T11:46:30+08:00
type: posts
tags: [网易云,博客,问题,音频]
---

## 写在前面

这里所描述的仅仅是问题的一种，造成音频转换失败的**原因多种多样**。本文为<mark>猜测原因</mark>，不一定就是这样。

---

#### 01.开端

把游戏的音频解包出来后做成了视频，后面因观众需要想着要上传博客，懒得一个一个重新把音频导出，所以用软件批量把视频转为音频 *（我知道音频会压缩不是无损的）* 并上传博客。

#### 02.问题出现

<img title="网易云音乐转换失败提示" src="https://s1.imagehub.cc/images/2023/06/08/Screenshot_20230608_113104.jpeg" alt="Screenshot_20230608_113104.jpeg" style="zoom:67%;">

我一般转换或导出的音频格式为wav格式，之前已经多次上传这种格式的音频都没问题。

#### 03.分析

首先，我用的是MystiQ[^1]这个软件转换的：

<img title="转换设置" src="https://s1.imagehub.cc/images/2023/06/08/mystiq_xR7dcvmzYX.png" alt="mystiq_xR7dcvmzYX.png" style="zoom:45%;">

其调用的FFmpeg版本为：

<img title="FFmpeg版本" src="https://s1.imagehub.cc/images/2023/06/08/WindowsTerminal_L9jqVuvY7X.png" alt="WindowsTerminal_L9jqVuvY7X.png" style="zoom:50%;">

来看看文件的详细信息（使用MediaInfo[^2]）

*准备的文件：*

<img title="准备的文件，共3个" src="https://s1.imagehub.cc/images/2023/06/08/explorer_eytzzucO5G.png" alt="explorer_eytzzucO5G.png" style="zoom:50%;">

*视频：*

<img title="视频信息" src="https://s1.imagehub.cc/images/2023/06/08/8AyqOUrcNo.png" alt="8AyqOUrcNo.png" style="zoom:80%;">

*使用<mark>MystiQ</mark>转换的音频，对应文件为<mark>V1</mark>；使用<mark>其他软件</mark>转换的音频，对应文件为<mark>V2</mark>：*

<img title="音频文件对比" src="https://s1.imagehub.cc/images/2023/06/08/MediaInfo_R65xczW5Og.png" alt="MediaInfo_R65xczW5Og.png" style="zoom:50%;">

乍一看没问题啊，而且都能正常播放，怎么到网易那就水土不服呢？

再用MusicPlayer2[^3]看看媒体信息：

*V1版：*

<img title="有什么不一样的地方？" src="https://s1.imagehub.cc/images/2023/06/08/MusicPlayer2_8E7tkiLv48.png" alt="MusicPlayer2_8E7tkiLv48.png" style="zoom:50%;">

*V2版：*

<img title="有什么不一样的地方？" src="https://s1.imagehub.cc/images/2023/06/08/MusicPlayer2_YNdyLvGVh5.png" alt="MusicPlayer2_YNdyLvGVh5.png" style="zoom:50%;">

#### 04.猜测

细心一点的朋友可以在MusicPlayer2的信息里找到不同点了。那就是在标签信息里，<mark>标签类型为RIFF[^4]</mark>。

也许就是这一点才转换失败的吧

[^1]:
    **MystiQ**
    
    一款开源免费的视频转换软件，为FFmpeg的GUI版，[官网](https://mystiqapp.com/)

[^2]:
    **MediaInfo**
    
    是一款开源免费的，用来分析视频和音频文件的编码和内容信息的软件，[官网](https://mediaarea.net/zh-CN/MediaInfo)

[^3]:
    **MusicPlayer2**
    
    一款开源免费的音乐播放软件，由国内大佬zhongyang219开发，[Github](https://github.com/zhongyang219/MusicPlayer2)；[Gitee（国内）](https://gitee.com/zhongyang219/MusicPlayer2)

[^4]:
    **RIFF**
    
    RIFF全称为资源互换文件格式（Resources Interchange File Format），是Windows下大部分多媒体文件遵循的一种文件结构。RIFF文件所包含的数据类型由该文件的扩展名来标识，能以RIFF格式存储的数据及对应文件有：<br>音频视频交错格式数据 .AVI<br>波形格式数据 .WAV<br>位图数据格式 .RDI<br>MIDI格式数据 .RMI<br>调色板格式 .PAL<br>多媒体电影 .RMN<br>动画光标 .ANI<br>其他的RIFF文件 .BND<br>更多请看[CSDN文章](https://blog.csdn.net/hhx123456798/article/details/122772892)
